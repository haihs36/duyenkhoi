<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá Th·ªëng E-Learning: Ph√¢n T√≠ch & Thi·∫øt K·∫ø</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #fcfbf9; color: #1f2937; }
        .nav-active { border-bottom: 2px solid #4f46e5; color: #4f46e5; font-weight: 600; }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #c7c7c7; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a0a0a0; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container { height: 350px; }
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals & Indigo -->
    <!-- Application Structure Plan: 
         Designed as a "Digital Project Blueprint" dashboard. 
         1. Hero: Overview. 
         2. Personas: Interactive cards to understand user needs deeply. 
         3. Features: Tabbed interface to separate complex requirements by role.
         4. Architecture: Visual block diagrams (HTML/CSS) and a Radar Chart to compare tech solutions (Self-build vs Service) based on report analysis.
         5. Database: Master-detail view for schema exploration.
         6. Roadmap & Risks: Timeline visualization and risk cards.
         Why: This structure breaks down the dense technical report into digestible, logical sections, allowing stakeholders to focus on specific aspects (e.g., Business vs. Tech) without losing context.
    -->
    <!-- Visualization & Content Choices:
         1. Radar Chart (Chart.js): To compare "Option 1 (Self-build)" vs "Option 2 (Service)" in the Architecture section. Justification: Visualizes the trade-offs (Cost vs Effort vs Security) mentioned in the text clearly.
         2. Horizontal Bar Chart (Chart.js): To visualize the "Roadmap" phases and their estimated relative complexity. Justification: Gives a quick sense of project scope over time.
         3. Interactive Flow Diagram (HTML/Tailwind): For the VOD/Livestream technical flow. Justification: Replaces static images/Mermaid to show data flow clearly using standard DOM elements.
         4. Tabbed Lists: For Functional Requirements. Justification: Prevents information overload by hiding irrelevant role details.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased selection:bg-indigo-100 selection:text-indigo-800">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-xl font-bold text-indigo-700 tracking-tight">E-Learning System</span>
                </div>
                <div class="hidden md:flex space-x-8 items-center" id="nav-links">
                    <a href="#overview" class="nav-item text-gray-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors" data-target="overview">T·ªïng Quan</a>
                    <a href="#personas" class="nav-item text-gray-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors" data-target="personas">Ng∆∞·ªùi D√πng</a>
                    <a href="#features" class="nav-item text-gray-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors" data-target="features">T√≠nh NƒÉng</a>
                    <a href="#architecture" class="nav-item text-gray-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors" data-target="architecture">Ki·∫øn Tr√∫c</a>
                    <a href="#database" class="nav-item text-gray-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors" data-target="database">C∆° S·ªü D·ªØ Li·ªáu</a>
                    <a href="#roadmap" class="nav-item text-gray-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors" data-target="roadmap">L·ªô Tr√¨nh</a>
                </div>
                <!-- Mobile menu button placeholder -->
                <div class="flex items-center md:hidden">
                    <button id="mobile-menu-btn" class="text-gray-500 hover:text-indigo-600 focus:outline-none p-2">
                        ‚ò∞
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="#overview" class="block px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-indigo-600 rounded-md">T·ªïng Quan</a>
                <a href="#personas" class="block px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-indigo-600 rounded-md">Ng∆∞·ªùi D√πng</a>
                <a href="#features" class="block px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-indigo-600 rounded-md">T√≠nh NƒÉng</a>
                <a href="#architecture" class="block px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-indigo-600 rounded-md">Ki·∫øn Tr√∫c</a>
                <a href="#roadmap" class="block px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-indigo-600 rounded-md">L·ªô Tr√¨nh</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-16">

        <!-- Section: Overview -->
        <section id="overview" class="scroll-mt-24">
            <div class="bg-gradient-to-br from-indigo-50 to-white rounded-2xl p-8 border border-indigo-100 shadow-sm">
                <h1 class="text-3xl md:text-4xl font-extrabold text-gray-900 mb-4">
                    N·ªÅn T·∫£ng E-Learning: VOD & Livestream
                </h1>
                <p class="text-lg text-gray-600 leading-relaxed max-w-3xl">
                    B·∫£n thi·∫øt k·∫ø chi ti·∫øt cho h·ªá th·ªëng LMS (Learning Management System) hi·ªán ƒë·∫°i. 
                    M·ª•c ti√™u l√† x√¢y d·ª±ng n·ªÅn t·∫£ng k·∫øt n·ªëi gi·∫£ng vi√™n v√† h·ªçc vi√™n th√¥ng qua video ch·∫•t l∆∞·ª£ng cao v√† t∆∞∆°ng t√°c tr·ª±c ti·∫øp, 
                    gi·∫£i quy·∫øt b√†i to√°n v·ªÅ b·∫£n quy·ªÅn, bƒÉng th√¥ng v√† tr·∫£i nghi·ªám ng∆∞·ªùi d√πng.
                </p>
                <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-white p-4 rounded-xl border border-gray-200 flex items-center shadow-sm">
                        <div class="w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-xl mr-3">‚ñ∂</div>
                        <div>
                            <h3 class="font-semibold text-gray-900">Video on Demand</h3>
                            <p class="text-xs text-gray-500">H·ªçc m·ªçi l√∫c m·ªçi n∆°i</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-xl border border-gray-200 flex items-center shadow-sm">
                        <div class="w-10 h-10 rounded-full bg-red-100 text-red-600 flex items-center justify-center text-xl mr-3">‚óè</div>
                        <div>
                            <h3 class="font-semibold text-gray-900">Livestream</h3>
                            <p class="text-xs text-gray-500">T∆∞∆°ng t√°c th·ªùi gian th·ª±c</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-xl border border-gray-200 flex items-center shadow-sm">
                        <div class="w-10 h-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xl mr-3">‚òÖ</div>
                        <div>
                            <h3 class="font-semibold text-gray-900">Ecosystem</h3>
                            <p class="text-xs text-gray-500">Web, Mobile & Affiliate</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: User Personas -->
        <section id="personas" class="scroll-mt-24">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900">ƒê·ªëi T∆∞·ª£ng Ng∆∞·ªùi D√πng</h2>
                <p class="text-gray-500 mt-2">Ph√¢n t√≠ch h√†nh vi v√† nhu c·∫ßu c·ªßa 3 nh√≥m ng∆∞·ªùi d√πng ch√≠nh ƒë·ªÉ t·ªëi ∆∞u h√≥a tr·∫£i nghi·ªám.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="persona-container">
                <!-- Cards will be injected by JS -->
            </div>
        </section>

        <!-- Section: Functional Requirements -->
        <section id="features" class="scroll-mt-24">
            <div class="flex flex-col md:flex-row md:items-center justify-between mb-6">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900">Ch·ª©c NƒÉng C·ªët L√µi</h2>
                    <p class="text-gray-500 mt-1">Chi ti·∫øt c√°c ph√¢n h·ªá ch·ª©c nƒÉng cho t·ª´ng ƒë·ªëi t∆∞·ª£ng.</p>
                </div>
                <!-- Tabs -->
                <div class="flex space-x-1 bg-gray-100 p-1 rounded-lg mt-4 md:mt-0 self-start md:self-auto">
                    <button class="feature-tab px-4 py-2 text-sm font-medium rounded-md bg-white text-indigo-600 shadow-sm transition-all" data-role="student">H·ªçc Vi√™n</button>
                    <button class="feature-tab px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all" data-role="instructor">Gi·∫£ng Vi√™n</button>
                    <button class="feature-tab px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all" data-role="admin">Qu·∫£n Tr·ªã</button>
                </div>
            </div>

            <div id="feature-content" class="bg-white rounded-2xl border border-gray-200 shadow-sm p-6 min-h-[300px]">
                <!-- Content injected by JS -->
            </div>
        </section>

        <!-- Section: Technical Architecture -->
        <section id="architecture" class="scroll-mt-24">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900">Ki·∫øn Tr√∫c K·ªπ Thu·∫≠t & Video</h2>
                <p class="text-gray-500 mt-2">Ph√¢n t√≠ch gi·∫£i ph√°p l∆∞u tr·ªØ, streaming v√† so s√°nh c√°c l·ª±a ch·ªçn tri·ªÉn khai.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Chart Col -->
                <div class="bg-white rounded-2xl border border-gray-200 shadow-sm p-6 flex flex-col">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4 text-center">So S√°nh Gi·∫£i Ph√°p Video</h3>
                    <p class="text-sm text-gray-500 text-center mb-4">So s√°nh gi·ªØa T·ª± x√¢y d·ª±ng (Self-build) v√† D·ªãch v·ª• chuy√™n bi·ªát (SaaS)</p>
                    <div class="chart-container flex-grow flex items-center justify-center">
                        <canvas id="archRadarChart"></canvas>
                    </div>
                    <div class="mt-4 p-3 bg-indigo-50 rounded-lg text-sm text-indigo-800 border border-indigo-100">
                        <strong>Khuy√™n d√πng Option 2:</strong> S·ª≠ d·ª•ng Mux/Cloudflare Stream ƒë·ªÉ t·ªëi ∆∞u b·∫£o m·∫≠t (DRM) v√† gi·∫£m g√°nh n·∫∑ng v·∫≠n h√†nh.
                    </div>
                </div>

                <!-- Diagram Col -->
                <div class="space-y-6">
                    <!-- VOD Flow -->
                    <div class="bg-white rounded-2xl border border-gray-200 shadow-sm p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Lu·ªìng X·ª≠ L√Ω Video (VOD)</h3>
                        <div class="flex flex-col space-y-3 relative">
                            <!-- Step 1 -->
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200">
                                <span class="bg-indigo-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold mr-3">1</span>
                                <div class="flex-1">
                                    <span class="font-medium text-gray-900">Gi·∫£ng vi√™n Upload</span>
                                    <div class="text-xs text-gray-500">Chunking upload, h·ªó tr·ª£ file l·ªõn</div>
                                </div>
                            </div>
                            <!-- Arrow -->
                            <div class="flex justify-center -my-1 text-gray-300 text-xl">‚Üì</div>
                            <!-- Step 2 -->
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200">
                                <span class="bg-indigo-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold mr-3">2</span>
                                <div class="flex-1">
                                    <span class="font-medium text-gray-900">L∆∞u Tr·ªØ & Transcode</span>
                                    <div class="text-xs text-gray-500">S3 / MediaConvert -> HLS (.m3u8) ƒëa ƒë·ªô ph√¢n gi·∫£i</div>
                                </div>
                            </div>
                            <!-- Arrow -->
                            <div class="flex justify-center -my-1 text-gray-300 text-xl">‚Üì</div>
                            <!-- Step 3 -->
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200">
                                <span class="bg-indigo-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold mr-3">3</span>
                                <div class="flex-1">
                                    <span class="font-medium text-gray-900">Ph√¢n Ph·ªëi (CDN)</span>
                                    <div class="text-xs text-gray-500">CloudFront / CDN chuy√™n bi·ªát gi√∫p t·∫£i nhanh</div>
                                </div>
                            </div>
                            <!-- Arrow -->
                            <div class="flex justify-center -my-1 text-gray-300 text-xl">‚Üì</div>
                            <!-- Step 4 -->
                            <div class="flex items-center p-3 bg-indigo-50 rounded-lg border border-indigo-200">
                                <span class="bg-indigo-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold mr-3">4</span>
                                <div class="flex-1">
                                    <span class="font-medium text-indigo-900">H·ªçc Vi√™n Xem (Player)</span>
                                    <div class="text-xs text-indigo-600">Adaptive Bitrate (T·ª± ch·ªânh ch·∫•t l∆∞·ª£ng theo m·∫°ng)</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tech Stack Tags -->
            <div class="mt-8">
                <h3 class="text-lg font-semibold text-gray-900 mb-3">Tech Stack ƒê·ªÅ Xu·∫•t</h3>
                <div class="flex flex-wrap gap-2" id="tech-stack-container">
                    <!-- Injected by JS -->
                </div>
            </div>
        </section>

        <!-- Section: Database Schema -->
        <section id="database" class="scroll-mt-24">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900">C·∫•u Tr√∫c D·ªØ Li·ªáu</h2>
                <p class="text-gray-500 mt-2">M√¥ h√¨nh quan h·ªá th·ª±c th·ªÉ (ERD Concept) c∆° b·∫£n cho h·ªá th·ªëng.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden">
                <!-- Table List -->
                <div class="col-span-1 bg-gray-50 border-r border-gray-200 p-4">
                    <h3 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3">Tables</h3>
                    <div class="space-y-2" id="db-table-list">
                        <!-- List injected by JS -->
                    </div>
                </div>
                <!-- Field Details -->
                <div class="col-span-1 md:col-span-2 p-6">
                    <div id="db-table-details">
                        <h3 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                            <span class="text-indigo-600 mr-2">üìÇ</span> Ch·ªçn m·ªôt b·∫£ng ƒë·ªÉ xem chi ti·∫øt
                        </h3>
                        <p class="text-gray-400 text-sm">Th√¥ng tin chi ti·∫øt v·ªÅ c√°c tr∆∞·ªùng d·ªØ li·ªáu v√† ki·ªÉu d·ªØ li·ªáu s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Roadmap & Risks -->
        <section id="roadmap" class="scroll-mt-24">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Roadmap -->
                <div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">L·ªô Tr√¨nh Ph√°t Tri·ªÉn</h2>
                    <p class="text-gray-500 mb-6">K·∫ø ho·∫°ch tri·ªÉn khai theo 3 giai ƒëo·∫°n ch√≠nh.</p>
                    
                    <div class="chart-container">
                         <canvas id="roadmapChart"></canvas>
                    </div>
                    <div class="mt-4 space-y-4">
                        <div class="bg-white p-4 rounded-xl border border-gray-200 shadow-sm relative pl-6">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-blue-500 rounded-l-xl"></div>
                            <h4 class="font-bold text-gray-900">Giai ƒëo·∫°n 1: MVP</h4>
                            <p class="text-sm text-gray-600 mt-1">VOD c∆° b·∫£n, Upload video, Thanh to√°n ƒë∆°n gi·∫£n.</p>
                        </div>
                        <div class="bg-white p-4 rounded-xl border border-gray-200 shadow-sm relative pl-6">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-purple-500 rounded-l-xl"></div>
                            <h4 class="font-bold text-gray-900">Giai ƒëo·∫°n 2: T∆∞∆°ng T√°c</h4>
                            <p class="text-sm text-gray-600 mt-1">Livestream, Chat Realtime, H·ªá th·ªëng th√¥ng b√°o.</p>
                        </div>
                        <div class="bg-white p-4 rounded-xl border border-gray-200 shadow-sm relative pl-6">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-green-500 rounded-l-xl"></div>
                            <h4 class="font-bold text-gray-900">Giai ƒëo·∫°n 3: H·ªá Sinh Th√°i</h4>
                            <p class="text-sm text-gray-600 mt-1">Mobile App, Gamification, Affiliate Marketing.</p>
                        </div>
                    </div>
                </div>

                <!-- Risks -->
                <div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">R·ªßi Ro & Gi·∫£i Ph√°p</h2>
                    <p class="text-gray-500 mb-6">C√°c v·∫•n ƒë·ªÅ k·ªπ thu·∫≠t v√† v·∫≠n h√†nh c·∫ßn l∆∞u √Ω.</p>
                    
                    <div class="space-y-4">
                        <div class="bg-amber-50 rounded-xl p-5 border border-amber-100">
                            <div class="flex items-start">
                                <div class="text-amber-600 text-xl mr-3">‚ö†Ô∏è</div>
                                <div>
                                    <h4 class="font-bold text-amber-900">B·∫£n Quy·ªÅn Video</h4>
                                    <p class="text-sm text-amber-800 mt-1 mb-2">Nguy c∆° b·ªã t·∫£i l·∫≠u ho·∫∑c quay m√†n h√¨nh.</p>
                                    <div class="bg-white/60 p-2 rounded text-xs text-amber-900 font-medium">
                                        üí° Gi·∫£i ph√°p: D√πng Encrypted HLS, DRM, Watermark ƒë·ªông.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-amber-50 rounded-xl p-5 border border-amber-100">
                            <div class="flex items-start">
                                <div class="text-amber-600 text-xl mr-3">üí∞</div>
                                <div>
                                    <h4 class="font-bold text-amber-900">Chi Ph√≠ BƒÉng Th√¥ng</h4>
                                    <p class="text-sm text-amber-800 mt-1 mb-2">Video t·ªën nhi·ªÅu l∆∞u l∆∞·ª£ng, chi ph√≠ server cao.</p>
                                    <div class="bg-white/60 p-2 rounded text-xs text-amber-900 font-medium">
                                        üí° Gi·∫£i ph√°p: T√≠nh to√°n k·ªπ gi√° kh√≥a h·ªçc vs chi ph√≠ CDN/Ph√∫t xem.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-amber-50 rounded-xl p-5 border border-amber-100">
                            <div class="flex items-start">
                                <div class="text-amber-600 text-xl mr-3">üìâ</div>
                                <div>
                                    <h4 class="font-bold text-amber-900">ƒê·ªô Tr·ªÖ Livestream</h4>
                                    <p class="text-sm text-amber-800 mt-1 mb-2">ƒê·ªô tr·ªÖ cao l√†m m·∫•t t√≠nh t∆∞∆°ng t√°c.</p>
                                    <div class="bg-white/60 p-2 rounded text-xs text-amber-900 font-medium">
                                        üí° Gi·∫£i ph√°p: D√πng WebRTC ho·∫∑c d·ªãch v·ª• chuy√™n bi·ªát (Agora/Mux) ƒë·ªÉ tr·ªÖ < 3s.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="border-t border-gray-200 py-8 mt-12">
            <div class="text-center text-gray-400 text-sm">
                <p>&copy; 2024 E-Learning System Architecture Analysis.</p>
            </div>
        </footer>

    </main>

    <script>
        // --- DATA STORE ---
        const data = {
            personas: [
                {
                    id: 'student',
                    title: 'H·ªçc Vi√™n (Student)',
                    icon: 'üéì',
                    needs: ['T√¨m kh√≥a h·ªçc d·ªÖ d√†ng', 'Xem video m∆∞·ª£t m√†, kh√¥ng lag', 'T∆∞∆°ng t√°c & h·ªèi ƒë√°p', 'Theo d√µi ti·∫øn ƒë·ªô h·ªçc'],
                    behavior: ['S·ª≠ d·ª•ng c·∫£ Web & Mobile', 'Thi·∫øu ki√™n nh·∫´n n·∫øu web ch·∫≠m', 'Th√≠ch n·ªôi dung ng·∫Øn g·ªçn'],
                    color: 'blue'
                },
                {
                    id: 'instructor',
                    title: 'Gi·∫£ng Vi√™n (Instructor)',
                    icon: 'üë®‚Äçüè´',
                    needs: ['C√¥ng c·ª• t·∫°o kh√≥a h·ªçc d·ªÖ d√πng', 'Upload video file l·ªõn ·ªïn ƒë·ªãnh', 'B√°o c√°o doanh thu chi ti·∫øt', 'T·ªï ch·ª©c Livestream'],
                    behavior: ['C·∫ßn tr√¨nh so·∫°n th·∫£o WYSIWYG', 'Quan t√¢m ƒë·∫øn b·∫£o v·ªá b·∫£n quy·ªÅn'],
                    color: 'emerald'
                },
                {
                    id: 'admin',
                    title: 'Qu·∫£n Tr·ªã Vi√™n (Admin)',
                    icon: 'üõ°Ô∏è',
                    needs: ['Ki·ªÉm duy·ªát n·ªôi dung', 'Qu·∫£n l√Ω ng∆∞·ªùi d√πng x·∫•u', 'ƒê·ªëi so√°t t√†i ch√≠nh', 'C·∫•u h√¨nh h·ªá th·ªëng'],
                    behavior: ['C·∫ßn dashboard t·ªïng quan', 'X·ª≠ l√Ω khi·∫øu n·∫°i'],
                    color: 'purple'
                }
            ],
            features: {
                student: {
                    title: 'Ph√¢n h·ªá H·ªçc Vi√™n',
                    desc: 'Tr·∫£i nghi·ªám h·ªçc t·∫≠p trung t√¢m.',
                    items: [
                        { name: 'X√°c th·ª±c', detail: 'ƒêƒÉng nh·∫≠p Email, Google, Facebook.' },
                        { name: 'Kh√°m ph√° (Discovery)', detail: 'T√¨m ki·∫øm (Elasticsearch), L·ªçc gi√°/ƒë√°nh gi√°, G·ª£i √Ω kh√≥a h·ªçc.' },
                        { name: 'Video Player', detail: 'Adaptive Bitrate (360p-1080p), T·ª± ƒë·ªông l∆∞u ti·∫øn ƒë·ªô.' },
                        { name: 'Livestream', detail: 'Xem live ƒë·ªô tr·ªÖ th·∫•p, Chat realtime, Gi∆° tay ph√°t bi·ªÉu.' },
                        { name: 'T√†i li·ªáu & Quiz', detail: 'T·∫£i PDF/Slide, L√†m b√†i t·∫≠p tr·∫Øc nghi·ªám t·ª± ch·∫•m.' },
                        { name: 'Thanh to√°n', detail: 'T√≠ch h·ª£p Momo, VNPAY, Stripe.' }
                    ]
                },
                instructor: {
                    title: 'Ph√¢n h·ªá Gi·∫£ng Vi√™n',
                    desc: 'C√¥ng c·ª• s√°ng t·∫°o n·ªôi dung.',
                    items: [
                        { name: 'Studio Kh√≥a H·ªçc', detail: 'T·∫°o ƒë·ªÅ c∆∞∆°ng, Upload video (Chunking - chia nh·ªè file).' },
                        { name: 'Livestream Control', detail: 'T·∫°o ph√≤ng, l·∫•y RTMP key stream t·ª´ OBS ho·∫∑c Browser.' },
                        { name: 'Analytics', detail: 'Bi·ªÉu ƒë·ªì doanh thu, s·ªë l∆∞·ª£ng h·ªçc vi√™n, t·ª∑ l·ªá ho√†n th√†nh.' }
                    ]
                },
                admin: {
                    title: 'Ph√¢n h·ªá Qu·∫£n Tr·ªã',
                    desc: 'Ki·ªÉm so√°t v√† v·∫≠n h√†nh.',
                    items: [
                        { name: 'CMS', detail: 'Duy·ªát kh√≥a h·ªçc tr∆∞·ªõc khi public.' },
                        { name: 'User Management', detail: 'Kh√≥a t√†i kho·∫£n vi ph·∫°m ch√≠nh s√°ch.' },
                        { name: 'Finance', detail: 'ƒê·ªëi so√°t doanh thu, chia s·∫ª l·ª£i nhu·∫≠n.' }
                    ]
                }
            },
            techStack: [
                { name: 'React.js / Next.js', type: 'Frontend', color: 'bg-blue-100 text-blue-800' },
                { name: 'Node.js / NestJS', type: 'Backend', color: 'bg-green-100 text-green-800' },
                { name: 'PostgreSQL', type: 'Database', color: 'bg-indigo-100 text-indigo-800' },
                { name: 'MongoDB / Redis', type: 'Database', color: 'bg-indigo-100 text-indigo-800' },
                { name: 'Docker / K8s', type: 'Infra', color: 'bg-gray-100 text-gray-800' },
                { name: 'AWS S3', type: 'Storage', color: 'bg-yellow-100 text-yellow-800' },
                { name: 'WebRTC / RTMP', type: 'Protocol', color: 'bg-red-100 text-red-800' },
                { name: 'Elasticsearch', type: 'Search', color: 'bg-purple-100 text-purple-800' }
            ],
            database: [
                { 
                    name: 'Users', 
                    desc: 'L∆∞u th√¥ng tin ng∆∞·ªùi d√πng',
                    fields: [
                        { name: 'ID', type: 'UUID/Int', note: 'Primary Key' },
                        { name: 'Name', type: 'String', note: 'H·ªç t√™n hi·ªÉn th·ªã' },
                        { name: 'Role', type: 'Enum', note: 'Student, Instructor, Admin' },
                        { name: 'Email', type: 'String', note: 'Unique' },
                        { name: 'PasswordHash', type: 'String', note: 'Bcrypt/Argon2' }
                    ]
                },
                { 
                    name: 'Courses', 
                    desc: 'Th√¥ng tin kh√≥a h·ªçc',
                    fields: [
                        { name: 'ID', type: 'UUID', note: 'PK' },
                        { name: 'Title', type: 'String', note: '' },
                        { name: 'Description', type: 'Text', note: 'HTML/Markdown' },
                        { name: 'InstructorID', type: 'UUID', note: 'FK -> Users' },
                        { name: 'Price', type: 'Decimal', note: '' },
                        { name: 'ThumbnailUrl', type: 'String', note: '' }
                    ]
                },
                { 
                    name: 'Lessons', 
                    desc: 'B√†i h·ªçc chi ti·∫øt',
                    fields: [
                        { name: 'ID', type: 'UUID', note: 'PK' },
                        { name: 'ChapterID', type: 'UUID', note: 'FK -> Chapters' },
                        { name: 'Type', type: 'Enum', note: 'Video, Quiz, Live' },
                        { name: 'VideoUrl', type: 'String', note: 'Link HLS (.m3u8)' },
                        { name: 'Duration', type: 'Int', note: 'Seconds' }
                    ]
                },
                { 
                    name: 'Enrollments', 
                    desc: 'Qu·∫£n l√Ω vi·ªác tham gia h·ªçc',
                    fields: [
                        { name: 'ID', type: 'UUID', note: 'PK' },
                        { name: 'UserID', type: 'UUID', note: 'FK -> Users' },
                        { name: 'CourseID', type: 'UUID', note: 'FK -> Courses' },
                        { name: 'Progress', type: 'Float', note: '0-100%' },
                        { name: 'PurchaseDate', type: 'DateTime', note: '' }
                    ]
                }
            ]
        };

        // --- RENDER FUNCTIONS ---

        function renderPersonas() {
            const container = document.getElementById('persona-container');
            container.innerHTML = data.personas.map(p => `
                <div class="bg-white rounded-xl p-6 border border-gray-100 card-hover cursor-pointer" onclick="togglePersona('${p.id}')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full bg-${p.color}-100 flex items-center justify-center text-2xl mr-4">${p.icon}</div>
                        <h3 class="text-xl font-bold text-gray-900">${p.title}</h3>
                    </div>
                    <div class="space-y-3">
                        <div>
                            <span class="text-xs font-bold text-${p.color}-600 uppercase tracking-wide">Nhu c·∫ßu</span>
                            <ul class="mt-1 space-y-1">
                                ${p.needs.map(n => `<li class="text-sm text-gray-600 flex items-start"><span class="mr-2 text-${p.color}-500">‚Ä¢</span>${n}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="pt-2 border-t border-gray-100">
                            <span class="text-xs font-bold text-gray-400 uppercase tracking-wide">H√†nh vi</span>
                             <ul class="mt-1 space-y-1">
                                ${p.behavior.map(b => `<li class="text-sm text-gray-500 italic flex items-start"><span class="mr-2 text-gray-300">-</span>${b}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderFeatures(role) {
            const content = data.features[role];
            const container = document.getElementById('feature-content');
            
            // Update tabs state
            document.querySelectorAll('.feature-tab').forEach(btn => {
                if(btn.dataset.role === role) {
                    btn.classList.add('bg-white', 'text-indigo-600', 'shadow-sm');
                    btn.classList.remove('text-gray-500', 'hover:text-gray-700');
                } else {
                    btn.classList.remove('bg-white', 'text-indigo-600', 'shadow-sm');
                    btn.classList.add('text-gray-500', 'hover:text-gray-700');
                }
            });

            container.innerHTML = `
                <div class="animate-fade-in">
                    <div class="mb-4">
                        <h3 class="text-xl font-bold text-gray-900">${content.title}</h3>
                        <p class="text-gray-500 text-sm">${content.desc}</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${content.items.map(item => `
                            <div class="p-4 rounded-lg bg-gray-50 border border-gray-100 hover:bg-indigo-50 hover:border-indigo-100 transition-colors">
                                <h4 class="font-semibold text-gray-800 text-sm mb-1">${item.name}</h4>
                                <p class="text-xs text-gray-600 leading-relaxed">${item.detail}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderTechStack() {
            const container = document.getElementById('tech-stack-container');
            container.innerHTML = data.techStack.map(tech => `
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${tech.color} border border-opacity-20 border-current">
                    ${tech.name}
                </span>
            `).join('');
        }

        function renderDatabaseList() {
            const listContainer = document.getElementById('db-table-list');
            listContainer.innerHTML = data.database.map((table, index) => `
                <button onclick="showTableDetails(${index})" class="w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:bg-white hover:text-indigo-600 hover:shadow-sm transition-all focus:outline-none focus:bg-white focus:text-indigo-600 ${index === 0 ? 'bg-white text-indigo-600 shadow-sm' : ''}">
                    ${table.name}
                </button>
            `).join('');
            
            // Show first table by default
            showTableDetails(0);
        }

        function showTableDetails(index) {
            const table = data.database[index];
            const detailsContainer = document.getElementById('db-table-details');
            
            // Highlight active button visually (simple approach)
            const buttons = document.getElementById('db-table-list').children;
            Array.from(buttons).forEach((btn, idx) => {
                if(idx === index) {
                    btn.classList.add('bg-white', 'text-indigo-600', 'shadow-sm');
                } else {
                    btn.classList.remove('bg-white', 'text-indigo-600', 'shadow-sm');
                }
            });

            detailsContainer.innerHTML = `
                <div class="animate-fade-in">
                    <div class="flex items-baseline justify-between mb-4 border-b border-gray-100 pb-2">
                        <h3 class="text-xl font-bold text-gray-900">${table.name}</h3>
                        <span class="text-sm text-gray-500">${table.desc}</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="min-w-full text-sm text-left">
                            <thead class="bg-gray-50 text-gray-500 font-medium">
                                <tr>
                                    <th class="px-4 py-2 rounded-l-md">Field Name</th>
                                    <th class="px-4 py-2">Type</th>
                                    <th class="px-4 py-2 rounded-r-md">Note</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100">
                                ${table.fields.map(f => `
                                    <tr>
                                        <td class="px-4 py-3 font-medium text-gray-800">${f.name}</td>
                                        <td class="px-4 py-3 text-indigo-600 font-mono text-xs">${f.type}</td>
                                        <td class="px-4 py-3 text-gray-500 italic">${f.note}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>
            `;
        }

        // --- CHARTS ---

        function initCharts() {
            // 1. Radar Chart: Tech Architecture Comparison
            const ctxRadar = document.getElementById('archRadarChart').getContext('2d');
            new Chart(ctxRadar, {
                type: 'radar',
                data: {
                    labels: ['Chi ph√≠ kh·ªüi t·∫°o', 'Chi ph√≠ v·∫≠n h√†nh', 'B·∫£o m·∫≠t (DRM)', 'D·ªÖ tri·ªÉn khai', 'Kh·∫£ nƒÉng m·ªü r·ªông'],
                    datasets: [
                        {
                            label: 'Option 1: T·ª± Build (AWS S3/FFmpeg)',
                            data: [70, 90, 40, 30, 60], // High setup cost, High maint, Low security default, Hard setup, Med scale
                            fill: true,
                            backgroundColor: 'rgba(156, 163, 175, 0.2)',
                            borderColor: 'rgb(156, 163, 175)',
                            pointBackgroundColor: 'rgb(156, 163, 175)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgb(156, 163, 175)'
                        },
                        {
                            label: 'Option 2: D·ªãch V·ª• (Mux/Cloudflare)',
                            data: [20, 30, 95, 90, 95], // Low setup, Low maint, High security, Easy setup, High scale
                            fill: true,
                            backgroundColor: 'rgba(79, 70, 229, 0.2)',
                            borderColor: 'rgb(79, 70, 229)',
                            pointBackgroundColor: 'rgb(79, 70, 229)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgb(79, 70, 229)'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { display: false },
                            suggestedMin: 0,
                            suggestedMax: 100,
                            ticks: { display: false } // Hide numbers for cleaner look
                        }
                    },
                    plugins: {
                        legend: { position: 'bottom', labels: { boxWidth: 10, font: { size: 11 } } },
                        tooltip: { callbacks: { label: (ctx) => `${ctx.dataset.label}: ${ctx.raw}/100 ƒëi·ªÉm` } }
                    }
                }
            });

            // 2. Bar Chart: Roadmap Timeline/Complexity
            const ctxRoadmap = document.getElementById('roadmapChart').getContext('2d');
            new Chart(ctxRoadmap, {
                type: 'bar',
                data: {
                    labels: ['Gƒê 1: MVP', 'Gƒê 2: T∆∞∆°ng T√°c', 'Gƒê 3: H·ªá Sinh Th√°i'],
                    datasets: [{
                        label: 'ƒê·ªô ph·ª©c t·∫°p ∆∞·ªõc t√≠nh & Th·ªùi gian',
                        data: [40, 70, 90], // Estimated relative values
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.7)', // Blue
                            'rgba(168, 85, 247, 0.7)', // Purple
                            'rgba(34, 197, 94, 0.7)'   // Green
                        ],
                        borderColor: [
                            'rgb(59, 130, 246)',
                            'rgb(168, 85, 247)',
                            'rgb(34, 197, 94)'
                        ],
                        borderWidth: 1,
                        borderRadius: 6
                    }]
                },
                options: {
                    indexAxis: 'y', // Horizontal bar chart
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { display: false, max: 100 },
                        y: { grid: { display: false } }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: { 
                            callbacks: { 
                                label: (ctx) => {
                                    const tasks = [
                                        ['VOD', 'Thanh to√°n c∆° b·∫£n'],
                                        ['Livestream', 'Chat Realtime', 'Th√¥ng b√°o'],
                                        ['Mobile Apps', 'Gamification', 'Affiliate']
                                    ];
                                    return `Bao g·ªìm: ${tasks[ctx.dataIndex].join(', ')}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            renderPersonas();
            renderFeatures('student'); // Default tab
            renderTechStack();
            renderDatabaseList();
            initCharts();

            // Tab Click Events
            document.querySelectorAll('.feature-tab').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    renderFeatures(e.target.dataset.role);
                });
            });

            // Smooth Scroll for Nav
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // Intersection Observer for Nav Highlighting
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        document.querySelectorAll('.nav-item').forEach(link => {
                            link.classList.remove('nav-active');
                            if (link.getAttribute('href') === '#' + entry.target.id) {
                                link.classList.add('nav-active');
                            }
                        });
                    }
                });
            }, { threshold: 0.5 });

            document.querySelectorAll('section').forEach(section => {
                observer.observe(section);
            });
            
            // Mobile Menu Toggle
            const mobileBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        });

    </script>
</body>
</html>